<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="basos.xe.data.dao.DealLastStateMapper">
  <resultMap id="BaseResultMap" type="basos.xe.data.entity.DealLastState">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Feb 13 18:05:48 MSK 2017.
    -->
    <constructor>
      <idArg column="IDDEAL" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="IDPARENT" javaType="java.lang.Integer" jdbcType="DECIMAL" />
      <arg column="DD_REST" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="BAL_TYPE" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="PROD_TYPE" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="CLN_ID" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="CLN_NAME" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="RSUBJ_ID" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="RSUBJ_NAME" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DOG_NUM" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="TR_DOG_NUM" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DGVR_DATE" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="DBEGIN" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="DEND" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="DDEALCLOSE" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="DAYS" javaType="java.lang.Integer" jdbcType="DECIMAL" />
      <arg column="YDUR" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="DGVR_CUR" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DGVR_SUM" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="DGVR_SUM_USD" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="PERC" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="PERC_KIND" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="FOND_RATE" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="RISKADD_RATE" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="MRASH_RATE" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="GR_OD" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="GR_PERC" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="AR_TYPE" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="SUM_PROVISION_USD" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="SUM_MSFO_CHARGEOFF" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="PROD_VAR" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="PROD_GR" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="PROD_GOAL" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="ID_REQ_ZIP_KK" javaType="java.lang.Integer" jdbcType="OTHER" />
      <arg column="LS_KK" javaType="java.lang.Integer" jdbcType="DECIMAL" />
      <arg column="IDLIMIT" javaType="java.lang.Integer" jdbcType="JAVA_OBJECT" />
      <arg column="COMMITTEE_NAME" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DECISION_NUMBER" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DECISION_DATE" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="FLG_312P" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DEP" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="DEP_FIO" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="KBE" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="KBE_FIO" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="IS_SME_DEAL" javaType="Boolean" jdbcType="DECIMAL" />
      <arg column="LMCP_ROWID" javaType="java.lang.String" jdbcType="ROWID" />
    </constructor>
  </resultMap>
  <select id="selectByPrimaryKey" parameterType="Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Feb 13 18:05:48 MSK 2017.
    -->
    select IDDEAL, IDPARENT, DD_REST, BAL_TYPE, PROD_TYPE, CLN_ID, CLN_NAME, RSUBJ_ID, 
    RSUBJ_NAME, DOG_NUM, TR_DOG_NUM, DGVR_DATE, DBEGIN, DEND, DDEALCLOSE, DAYS, YDUR, 
    DGVR_CUR, DGVR_SUM, DGVR_SUM_USD, PERC, PERC_KIND, FOND_RATE, RISKADD_RATE, MRASH_RATE, 
    GR_OD, GR_PERC, AR_TYPE, SUM_PROVISION_USD, SUM_MSFO_CHARGEOFF, PROD_VAR, PROD_GR, 
    PROD_GOAL, ID_REQ_ZIP_KK, LS_KK, IDLIMIT, COMMITTEE_NAME, DECISION_NUMBER, DECISION_DATE, 
    FLG_312P, DEP, DEP_FIO, KBE, KBE_FIO, IS_SME_DEAL, LMCP_ROWID
    from MV_DEALS_LAST_STATE
    where IDDEAL = #{idDeal,jdbcType=DECIMAL}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Feb 13 18:05:48 MSK 2017.
    -->
    select IDDEAL, IDPARENT, DD_REST, BAL_TYPE, PROD_TYPE, CLN_ID, CLN_NAME, RSUBJ_ID, 
    RSUBJ_NAME, DOG_NUM, TR_DOG_NUM, DGVR_DATE, DBEGIN, DEND, DDEALCLOSE, DAYS, YDUR, 
    DGVR_CUR, DGVR_SUM, DGVR_SUM_USD, PERC, PERC_KIND, FOND_RATE, RISKADD_RATE, MRASH_RATE, 
    GR_OD, GR_PERC, AR_TYPE, SUM_PROVISION_USD, SUM_MSFO_CHARGEOFF, PROD_VAR, PROD_GR, 
    PROD_GOAL, ID_REQ_ZIP_KK, LS_KK, IDLIMIT, COMMITTEE_NAME, DECISION_NUMBER, DECISION_DATE, 
    FLG_312P, DEP, DEP_FIO, KBE, KBE_FIO, IS_SME_DEAL, LMCP_ROWID
    from MV_DEALS_LAST_STATE
  </select>

  <select id="selectByClnId" parameterType="Integer" resultMap="BaseResultMap">
    select IDDEAL, IDPARENT, DD_REST, BAL_TYPE, PROD_TYPE, CLN_ID, CLN_NAME, RSUBJ_ID, 
    RSUBJ_NAME, DOG_NUM, TR_DOG_NUM, DGVR_DATE, DBEGIN, DEND, DDEALCLOSE, DAYS, YDUR, 
    DGVR_CUR, DGVR_SUM, DGVR_SUM_USD, PERC, PERC_KIND, FOND_RATE, RISKADD_RATE, MRASH_RATE, 
    GR_OD, GR_PERC, AR_TYPE, SUM_PROVISION_USD, SUM_MSFO_CHARGEOFF, PROD_VAR, PROD_GR, 
    PROD_GOAL, ID_REQ_ZIP_KK, LS_KK, IDLIMIT, COMMITTEE_NAME, DECISION_NUMBER, DECISION_DATE, 
    FLG_312P, DEP, DEP_FIO, KBE, KBE_FIO, IS_SME_DEAL, LMCP_ROWID
    from MV_DEALS_LAST_STATE
    where CLN_ID = #{clnId,jdbcType=DECIMAL}
  </select>
  <select id="selectByRsubjId" parameterType="Integer" resultMap="BaseResultMap">
    select IDDEAL, IDPARENT, DD_REST, BAL_TYPE, PROD_TYPE, CLN_ID, CLN_NAME, RSUBJ_ID, 
    RSUBJ_NAME, DOG_NUM, TR_DOG_NUM, DGVR_DATE, DBEGIN, DEND, DDEALCLOSE, DAYS, YDUR, 
    DGVR_CUR, DGVR_SUM, DGVR_SUM_USD, PERC, PERC_KIND, FOND_RATE, RISKADD_RATE, MRASH_RATE, 
    GR_OD, GR_PERC, AR_TYPE, SUM_PROVISION_USD, SUM_MSFO_CHARGEOFF, PROD_VAR, PROD_GR, 
    PROD_GOAL, ID_REQ_ZIP_KK, LS_KK, IDLIMIT, COMMITTEE_NAME, DECISION_NUMBER, DECISION_DATE, 
    FLG_312P, DEP, DEP_FIO, KBE, KBE_FIO, IS_SME_DEAL, LMCP_ROWID
    from MV_DEALS_LAST_STATE
    where RSUBJ_ID = #{rsubjId,jdbcType=DECIMAL}
  </select>

</mapper>