<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="basos.xe.data.dao.TrancheLastStateMapper">
  <resultMap id="BaseResultMap" type="basos.xe.data.entity.TrancheLastState">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Feb 25 17:28:33 MSK 2017.
    -->
    <constructor>
      <idArg column="idDeal" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="idParent" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="ddRest" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="balType" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="prodType" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="clnId" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="rsubjId" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="dogNum" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="trDogNum" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="dbegin" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="dend" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="ddealClose" javaType="java.sql.Date" jdbcType="TIMESTAMP" />
      <arg column="days" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="ydur" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="dgvrCur" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="dgvrSum" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="dgvrSumUSD" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="perc" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="percKind" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="fondRate" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="riskAddRate" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="mrashRate" javaType="java.math.BigDecimal" jdbcType="DECIMAL" />
      <arg column="grOd" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="grPerc" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="prodVar" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="prodGr" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="prodGoal" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="idReqZipKk" javaType="Integer" jdbcType="DECIMAL" />
      <arg column="flg312p" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="dep" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="depFio" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="kbe" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="kbeFio" javaType="java.lang.String" jdbcType="VARCHAR" />
      <arg column="isSmeDeal" javaType="Boolean" jdbcType="DECIMAL" />
      <arg column="lmcpRowId" javaType="String" jdbcType="ROWID" />
    </constructor>
  </resultMap>
  <select id="selectByPrimaryKey" parameterType="Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Feb 25 17:28:33 MSK 2017.
    -->
    select "idDeal", "idParent", "ddRest", "balType", "prodType", "clnId", "rsubjId", "dogNum", "trDogNum", 
    "dbegin", "dend", "ddealClose", "days", "ydur", "dgvrCur", "dgvrSum", "dgvrSumUSD", "perc", "percKind", 
    "fondRate", "riskAddRate", "mrashRate", "grOd", "grPerc", "prodVar", "prodGr", "prodGoal", "idReqZipKk", 
    "flg312p", "dep", "depFio", "kbe", "kbeFio", "isSmeDeal", "lmcpRowId"
    from MV_TRANCHES_LAST_STATE
    where "idDeal" = #{idDeal,jdbcType=DECIMAL}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Feb 25 17:28:33 MSK 2017.
    -->
    select "idDeal", "idParent", "ddRest", "balType", "prodType", "clnId", "rsubjId", "dogNum", "trDogNum", 
    "dbegin", "dend", "ddealClose", "days", "ydur", "dgvrCur", "dgvrSum", "dgvrSumUSD", "perc", "percKind", 
    "fondRate", "riskAddRate", "mrashRate", "grOd", "grPerc", "prodVar", "prodGr", "prodGoal", "idReqZipKk", 
    "flg312p", "dep", "depFio", "kbe", "kbeFio", "isSmeDeal", "lmcpRowId"
    from MV_TRANCHES_LAST_STATE
  </select>
  
  <select id="selectByClnId" parameterType="Integer" resultMap="BaseResultMap">
    select "idDeal", "idParent", "ddRest", "balType", "prodType", "clnId", "rsubjId", "dogNum", "trDogNum", 
    "dbegin", "dend", "ddealClose", "days", "ydur", "dgvrCur", "dgvrSum", "dgvrSumUSD", "perc", "percKind", 
    "fondRate", "riskAddRate", "mrashRate", "grOd", "grPerc", "prodVar", "prodGr", "prodGoal", "idReqZipKk", 
    "flg312p", "dep", "depFio", "kbe", "kbeFio", "isSmeDeal", "lmcpRowId"
    from MV_TRANCHES_LAST_STATE
    where "clnId" = #{clnId,jdbcType=DECIMAL}
  </select>
  <select id="selectByRsubjId" parameterType="Integer" resultMap="BaseResultMap">
    select "idDeal", "idParent", "ddRest", "balType", "prodType", "clnId", "rsubjId", "dogNum", "trDogNum", 
    "dbegin", "dend", "ddealClose", "days", "ydur", "dgvrCur", "dgvrSum", "dgvrSumUSD", "perc", "percKind", 
    "fondRate", "riskAddRate", "mrashRate", "grOd", "grPerc", "prodVar", "prodGr", "prodGoal", "idReqZipKk", 
    "flg312p", "dep", "depFio", "kbe", "kbeFio", "isSmeDeal", "lmcpRowId"
    from MV_TRANCHES_LAST_STATE
    where "rsubjId" = #{rsubjId,jdbcType=DECIMAL}
  </select>
  <select id="selectByIdParent" parameterType="Integer" resultMap="BaseResultMap">
    select "idDeal", "idParent", "ddRest", "balType", "prodType", "clnId", "rsubjId", "dogNum", "trDogNum", 
    "dbegin", "dend", "ddealClose", "days", "ydur", "dgvrCur", "dgvrSum", "dgvrSumUSD", "perc", "percKind", 
    "fondRate", "riskAddRate", "mrashRate", "grOd", "grPerc", "prodVar", "prodGr", "prodGoal", "idReqZipKk", 
    "flg312p", "dep", "depFio", "kbe", "kbeFio", "isSmeDeal", "lmcpRowId"
    from MV_TRANCHES_LAST_STATE
    where "idParent" = #{idParent,jdbcType=DECIMAL}
  </select>
  
</mapper>